<ng-container>
  <form *ngIf="form" (ngSubmit)="submit()" [formGroup]="form">
    <h2 *ngIf="label">{{ label }}</h2>

    <div [fxLayout]="direction" fxLayoutGap="1rem">
      <ng-container #formOutlet></ng-container>
    </div>

    <ng-container *ngIf="showControls">
      <div class="spacer"></div>
      <div fxLayout fxLayoutGap="1rem">
        <button
          *ngIf="submitButtonBadgeLabel !== null"
          mat-raised-button
          [matBadge]="submitButtonBadgeLabel"
          matBadgePosition="below before"
          matBadgeColor="accent"
          color="primary"
          [disabled]="!isValid || disabled"
          type="submit"
        >
          <mat-icon *ngIf="submitButtonIcon">{{ submitButtonIcon }}</mat-icon>
          {{ submitButtonLabel }}
        </button>

        <button
          *ngIf="submitButtonBadgeLabel === null"
          mat-raised-button
          color="primary"
          [disabled]="!isValid || disabled"
          type="submit"
        >
          <mat-icon *ngIf="submitButtonIcon">{{ submitButtonIcon }}</mat-icon>
          {{ submitButtonLabel }}
        </button>

        <button
          type="button"
          mat-raised-button
          [disabled]="form.pristine"
          (click)="cancel()"
        >
          {{ cancelButtonLabel }}
        </button>
      </div>
    </ng-container>
    <button type="submit" style="display: none"></button>
  </form>
</ng-container>
